/* --- Global Styles & CSS Variables (Spec 4) --- */
:root {
  --color-bg-primary: #FFFFFF;
  --color-bg-secondary: #F8F9FA;
  --color-text-primary: #212529;
  --color-text-secondary: #6C757D;
  --color-border: #DEE2E6;
  --color-accent-primary: #FFC107;
  --color-accent-primary-hover: #e0a800;
  --color-accent-destructive: #DC3545;
  --color-accent-info: #17A2B8;
  --color-accent-success: #28A745;
  --font-family-primary: "Inter", system-ui, sans-serif;
  --border-radius-sm: 4px;
  --border-radius-md: 6px;
  --space-1: 8px;
  --space-2: 16px;
  --space-3: 24px;
}

/* --- Base Styles --- */
body {
  margin: 0;
  font-family: var(--font-family-primary);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
}

h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  color: var(--color-text-primary);
}

/* --- App Shell Layout (Fixes Double Scrollbar) --- */
.app-shell {
  display: flex;
  height: 100vh;
  overflow: hidden;
}

.main-sidebar {
  width: 220px;
  flex-shrink: 0;
  background-color: var(--color-bg-secondary);
  border-right: 1px solid var(--color-border);
}

.main-content {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.top-header-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-2);
  height: 60px;
  flex-shrink: 0;
}

.page-content {
  flex-grow: 1;
  overflow-y: auto;
  padding: var(--space-3);
  display: flex;
  flex-direction: column;
}

/* --- Reusable Button (Spec 4.6) --- */
.btn {
  font-weight: 600;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--border-radius-sm);
  border: 1px solid transparent;
  cursor: pointer;
  transition: background-color 0.2s;
  text-decoration: none;
  display: inline-block;
}
.btn-primary {
  background-color: var(--color-accent-primary);
  color: var(--color-text-primary);
  border-color: #e0a800;
}
.btn-secondary {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  border-color: var(--color-border);
}
.btn-destructive {
  background-color: var(--color-accent-destructive);
  color: white;
}

/* --- Reusable Form Inputs --- */
.form-input, .form-select {
  padding: var(--space-1);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-sm);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  font-family: var(--font-family-primary);
  font-size: 1rem;
}

/* --- Helper Text --- */
.text-secondary {
  color: var(--color-text-secondary);
  font-size: 0.9rem;
}
.text-success {
  color: var(--color-accent-success);
  font-weight: 600;
}
.text-destructive {
  color: var(--color-accent-destructive);
  font-weight: 600;
}

/* --- Progress Bar (Spec 4.6) --- */
.progress-track {
  width: 100%;
  height: 12px;
  background-color: var(--color-border);
  border-radius: 6px;
  overflow: hidden;
  margin-top: var(--space-1);
}

.progress-fill {
  height: 100%;
  background-color: var(--color-accent-info); /* Blue/Teal */
  border-radius: 6px;
}


/* --- Global Rarity Colors (Dynamic) --- */
.rarity-legend-rare {
  background: linear-gradient(135deg, #fff0f0, #f0f8ff);
  color: #333;
  border: 1px solid #d1d5db;
  position: relative;
}
.rarity-legend-rare::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 4px; 
    padding: 1px; 
    background: linear-gradient(to right, #ff6b6b, #feca57, #48dbfb, #ff9ff3); 
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
}

.rarity-uber-rare { 
    background-color: #fffbeb; color: #b45309; border: 1px solid #fcd34d; 
}
.rarity-super-rare { 
    background-color: #eff6ff; color: #1e40af; border: 1px solid #bfdbfe; 
}
.rarity-rare { 
    background-color: #fff7ed; color: #c2410c; border: 1px solid #fed7aa; 
}
.rarity-special { 
    background-color: #fdf4ff; color: #86198f; border: 1px solid #f0abfc; 
}
.rarity-normal { 
    background-color: #f1f5f9; color: #475569; border: 1px solid #cbd5e1; 
}

/* Mobile Sidebar Logic */
.mobile-overlay {
  display: none;
}

@media (max-width: 768px) {
  .sidebar-wrapper {
    position: fixed;
    top: 60px; /* Below header */
    left: -220px; /* Hide off-screen */
    width: 220px;
    height: calc(100vh - 60px);
    z-index: 50;
    transition: left 0.3s ease;
  }
  
  .sidebar-wrapper.mobile-visible {
    left: 0;
  }

  .mobile-overlay {
    display: block;
    position: fixed;
    top: 60px;
    left: 0;
    width: 100vw;
    height: calc(100vh - 60px);
    background: rgba(0,0,0,0.5);
    z-index: 40;
  }
}

/* Hide hamburger on desktop */
.hamburger-btn {
  display: none;
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0 0.5rem;
}

@media (max-width: 768px) {
  .hamburger-btn {
    display: block;
  }
  .main-sidebar {
    display: none; /* Hide default sidebar structure on mobile */
  }
  /* The .sidebar-wrapper in AppShell handles the mobile drawer */
}

/* --- UTILS: HIDE NUMBER SPINNERS --- */
/* Chrome, Safari, Edge, Opera */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
  appearance: textfield; /* Standard property */
}